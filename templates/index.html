<!DOCTYPE html>
<html lang="en" ng-app='stickyApp'>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta name="google-signin-client_id" content="789525859757-88seqkqgk8e7gv6imfqbqnols7d8vpj3.apps.googleusercontent.com">
  <title>Postit!</title>
  <link rel="stylesheet" href="static/css/style.css">
  <script src='static/js/bundle.js'></script>
</head>
<body ng-controller='stickyPosts' class='container'>
  <div class='row'>
    <div class='col-xs-offset-8'>
      <div id='signin'></div>
    </div>
    <script>
    function onSignIn(googleUser) {
      // Useful data for your client-side scripts:
      var profile = googleUser.getBasicProfile();
      console.log("ID: " + profile.getId()); // Don't send this directly to your server!
      console.log("Name: " + profile.getName());
      console.log("Image URL: " + profile.getImageUrl());
      console.log("Email: " + profile.getEmail());

      // The ID token you need to pass to your backend:
      var id_token = googleUser.getAuthResponse().id_token;
      console.log("ID Token: " + id_token);
    };

    function renderButton() {
        gapi.signin2.render('signin', {
          'scope': 'profile email',
          'width': 240,
          'height': 50,
          'background': 'yellow',
          'longtitle': true,
          'onsuccess': onSignIn,
        })  ;
    }
    </script>
  </div>
  <h3>Post it notes! Add more, write in them.</h3>
  <div class='row'>
    <div ng-repeat='post in posts' class='post col-lg-2 col-md-4 col-xs-5'>
      <textarea rows='6' ng-model='post.text'
      ng-keyup='save(post.id, post.text)'>{{post.text}}</textarea>
      <buton class='btn btn-primary btn-circle' ng-click='delete(post.id)'>X</button>
      </div>
    </div>
    <div class='row add'>
      <button class='btn btn-primary' ng-click='add()'>Add another!</button>
    </div>
    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  </body>
  </html>
